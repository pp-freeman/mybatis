# 简介

**Mybatis是用来封装JDBC的持久层框架**，它和Hibernate都是ORM（对象关系映射）框架。前者是不完全ORM，后者是完全ORM框架。

Mybatis只关注SQL本身，不需要去关注连接创建、statement创建等等。它不是把对象关系映射为SQL，而只是**把输入参数、输出结果进行映射**（不完全）

## 原生态JDBC问题&解决方式

1、在创建连接时，存在硬编码
配置文件（全局配置文件)
2、在执行statement时存在硬编码
配置文件(映射文件)
3、频繁的开启和关闭数据库连接,会造成数据库性能下降。
数据库连接池（全局配置文件)

*类似于手搓衣服和洗衣机洗

# 框架原理

**核心：配置文件**（全局配置文件和映射文件）
全局配置文件：配置数据源、事务运行信息
映射文件：statement相关信息、SQL语句、输入参数、输出结果

sqlsessionfactory **会话工厂**：通过读取配置文件构造出的，作用是生产会话
sqlsession **会话**：一个面向程序员的接口，程序员通过该接口对数据增删改查，且有一个默认的实现defaultsqlsession（跟踪流程）

executor**执行器**：会话不能直接操纵数据库，需要执行器这个接口来真正操作数据库，这个接口有两个实现：
基本执行器
缓存执行器（默认）

mappedstatement 该**底层对象**封装了执行statement时候的信息，包括语句，输入参数、输出结果及其类型

最后调数据库 

![image-20201110181637465](C:\Users\tian\AppData\Roaming\Typora\typora-user-images\image-20201110181637465.png)